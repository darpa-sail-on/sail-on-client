<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Harness &mdash; Sail-On Client 0.31.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/sphinx-toolbox.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Harness API" href="harness_api.html" />
    <link rel="prev" title="Protocol API" href="../protocols/protocol_api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Sail-On Client
          </a>
              <div class="version">
                0.31.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../user/install.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../protocols/ond.html">Open World Novelty Detection (OND)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../protocols/condda.html">Continuous Open-set Novelty Detection, Discovery, Adaptation (CONDDA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../protocols/protocol_api.html">Protocol API</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Harness</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#local-harness">Local Harness</a></li>
<li class="toctree-l2"><a class="reference internal" href="#par-harness">PAR Harness</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#rest-api">REST API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="harness_api.html">Harness API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../metrics/metric_formulation.html">Program Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/metric_api.html">Metric API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../feedback/feedback.html">Feedback</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feedback/feedback_api.html">Feedback API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../plugins/agents.html">Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/agents_api.html">Agents API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/hydra_plugins.html">Hydra Plugins</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../saving/features.html">Saving And Restoring Features for Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../saving/checkpoint.html">Saving And Restoring Attributes of Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../saving/checkpoint_api.html">Checkpoint API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sail-On Client</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Harness</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/harness/harness.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="harness">
<h1>Harness<a class="headerlink" href="#harness" title="Permalink to this headline"></a></h1>
<p>Harnesses are used for testing and evaluating TA2 agents. The
evaluation can be conducted using a server setup by TA1 or by
providing the files containing ground truth and metadata
associated with the tests. The abstraction was primarily to communicate with the
evaluation server or replicate the same functionality without with files provided
by TA1s. They work in conjunction with the protocol classes to fulfill the input
and output requirements of an agent. The harnesses are subclasses of <code class="code docutils literal notranslate"><span class="pre">TestAndEvaluationHarness</span></code>.
We support two harnesses in sail-on-client</p>
<div class="section" id="local-harness">
<h2>Local Harness<a class="headerlink" href="#local-harness" title="Permalink to this headline"></a></h2>
<p><code class="code docutils literal notranslate"><span class="pre">LocalHarness</span></code> is primarily used for replicating the capabilities of
<code class="code docutils literal notranslate"><span class="pre">ParHarness</span></code> without using the server. This allows local testing an agent
without setting up a server instance locally or via a URL. Since LocalHarness uses
the files it requires 3 parameters:</p>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">data_dir</span></code>: Root directory where the data for tests is stored</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">gt_dir</span></code>: Root directory where ground truth is stored</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">gt_config</span></code>: A json file with column mapping for ground truth</p></li>
</ol>
</div>
<div class="section" id="par-harness">
<h2>PAR Harness<a class="headerlink" href="#par-harness" title="Permalink to this headline"></a></h2>
<p><code class="code docutils literal notranslate"><span class="pre">ParHarness</span></code> is primarily responsible for communicating with the evaluation
server setup by the TA1 team. The interface relies on RESTful api <a class="reference internal" href="#rest-api"><span class="std std-ref">(detailed in the next section)</span></a>  to provide the
following features</p>
<ol class="arabic simple">
<li><p>Support batch inquiry (also called rounds) with full data set response.</p></li>
<li><p>Support batch response for evaluation.</p></li>
<li><p>Answer requests for multiple dataset types.</p></li>
<li><p>Includes option for ‘hints’ accompanying datasets.</p></li>
<li><p>Can accept additional meta-data along with annotations, labels and localization data
(e.g time intervals for video) along with class and certainty scores.</p></li>
<li><p>Provide feedback as requested by the algorithm after the results for a batch have been
submitted.</p></li>
</ol>
<div class="section" id="rest-api">
<h3>REST API<a class="headerlink" href="#rest-api" title="Permalink to this headline"></a></h3>
<p>This section provides a detailed description of the RESTful api used for communication.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 7%" />
<col style="width: 26%" />
<col style="width: 28%" />
<col style="width: 29%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Request Name</p></th>
<th class="head"><p>Request Type</p></th>
<th class="head"><p>Definition</p></th>
<th class="head"><p>Request Data</p></th>
<th class="head"><p>Response Data</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Test Request</p></td>
<td><p>GET</p></td>
<td><p>TA2 Requests for Test Identifiers
as part of a series of individual tests.</p></td>
<td><ol class="arabic simple">
<li><p>Protocol: Empirical protocol</p></li>
<li><p>Domain: Problem domain.</p></li>
<li><p>Detector Seed</p></li>
<li><p>JSON file: Test Assumptions (if any)</p></li>
</ol>
</td>
<td><p>1. CSV file containing: Test ID(s) with the
following naming convention: Protocol.Group.Run.Seed</p></td>
</tr>
<tr class="row-odd"><td><p>New Session</p></td>
<td><p>POST</p></td>
<td><p>Create a new session to evaluate the
detector using an empirical protocol.</p></td>
<td><ol class="arabic simple">
<li><p>Test ID(s) obtained from test request.</p></li>
<li><p>Protocol</p></li>
<li><p>Novelty Detector Version</p></li>
</ol>
</td>
<td><ol class="arabic simple">
<li><p>Session ID: A unique identifier that the
server associated with the client</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>Dataset Request</p></td>
<td><p>GET</p></td>
<td><p>Request data for evaluation.</p></td>
<td><ol class="arabic simple">
<li><p>Session ID</p></li>
<li><p>Test ID</p></li>
<li><p>Round ID (where applicable per protocol)</p></li>
</ol>
</td>
<td><ol class="arabic simple">
<li><p>CSV of Dataset URIs. Each URI identifies the media
to be used. It may be location specific (e.g. S3)
or independent, assuming a shared repository.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>Get Feedback</p></td>
<td><p>GET</p></td>
<td><dl class="simple">
<dt>Get Feedback from the server based on</dt><dd><p>one or more example ids</p>
</dd>
</dl>
</td>
<td><ol class="arabic simple">
<li><p>Session ID</p></li>
<li><p>Test ID</p></li>
<li><p>Round Number</p></li>
<li><p>Example IDs</p></li>
<li><p>Feedback type: Detection,  Characterization, Label</p></li>
</ol>
</td>
<td><ol class="arabic simple">
<li><p>CSV file for detection and characterization feedback
in accordance with the feedback space specified by
the protocol.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>Get Metadata</p></td>
<td><p>GET</p></td>
<td><p>Get metadata for a test</p></td>
<td><ol class="arabic simple">
<li><p>Test ID</p></li>
</ol>
</td>
<td><ol class="arabic simple">
<li><p>JSON File containing the metadata.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>Post Results</p></td>
<td><p>POST</p></td>
<td><p>Post client detector predictions for the dataset.</p></td>
<td><ol class="arabic simple">
<li><p>Session ID</p></li>
<li><p>Test ID</p></li>
<li><p>Round ID (where applicable)</p></li>
<li><p>Result Files: (CSV)</p></li>
<li><p>Protocol constant: Characterization/Detection</p></li>
</ol>
</td>
<td><ol class="arabic simple">
<li><p>Result acknowledgement.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>Evaluation</p></td>
<td><p>GET</p></td>
<td><p>Get results for test(s)</p></td>
<td><ol class="arabic simple">
<li><p>Session ID</p></li>
<li><p>Test ID</p></li>
<li><p>Round ID (where applicable )</p></li>
</ol>
</td>
<td><ol class="arabic simple">
<li><p>Score or None.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>Terminate Session</p></td>
<td><p>DELETE</p></td>
<td><dl class="simple">
<dt>Terminate the session after the evaluation</dt><dd><p>for the protocol is complete</p>
</dd>
</dl>
</td>
<td><ol class="arabic simple">
<li><p>Session ID</p></li>
<li><p>Logs for the session</p></li>
</ol>
</td>
<td><ol class="arabic simple">
<li><p>Acknowledgement of session termination.</p></li>
</ol>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../protocols/protocol_api.html" class="btn btn-neutral float-left" title="Protocol API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="harness_api.html" class="btn btn-neutral float-right" title="Harness API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Kitware INC..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>