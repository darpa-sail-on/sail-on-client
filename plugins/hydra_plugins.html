<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

      <title>Hydra Plugins</title>
    
      <link rel="stylesheet" href="../_static/pygments.css">
      <link rel="stylesheet" href="../_static/theme.css">
      <link rel="stylesheet" href="../_static/sphinx_press_theme.css">
          <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="../_static/css/theme.css " type="text/css" />
      
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

      <!-- sphinx script_files -->
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>

      
      <script src="../_static/theme-vendors.js"></script>
      <script src="../_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="next" title="Saving And Restoring Features for Algorithm" href="../saving/features.html" />
  <link rel="prev" title="Plugins" href="plugins.html" /> 
  </head>

  <body>
    <div id="app" class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="../index.html" class="home-link">
    
      <span class="site-name">Sail-On Client</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="../index.html#user-guide"
         class="nav-link ">
         user guide
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#empirical-protocols"
         class="nav-link ">
         empirical protocols
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#interfaces"
         class="nav-link ">
         interfaces
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#metrics"
         class="nav-link ">
         metrics
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#feedback"
         class="nav-link ">
         feedback
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#plugins"
         class="nav-link  router-link-active">
         plugins
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#saving-and-restoring-models"
         class="nav-link ">
         saving and restoring models
      </a>
    </div>
  



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="../index.html#user-guide"
         class="nav-link ">
         user guide
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#empirical-protocols"
         class="nav-link ">
         empirical protocols
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#interfaces"
         class="nav-link ">
         interfaces
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#metrics"
         class="nav-link ">
         metrics
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#feedback"
         class="nav-link ">
         feedback
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#plugins"
         class="nav-link  router-link-active">
         plugins
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../index.html#saving-and-restoring-models"
         class="nav-link ">
         saving and restoring models
      </a>
    </div>
  



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="../search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#user-guide">user guide</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../user/install.html" class="reference internal ">Installation</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#empirical-protocols">empirical protocols</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../protocols/ond.html" class="reference internal ">Open World Novelty Detection (OND)</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../protocols/condda.html" class="reference internal ">Continuous Open-set Novelty Detection, Discovery, Adaptation (CONDDA)</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../protocols/protocol_api.html" class="reference internal ">Protocol API</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#interfaces">interfaces</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../harness/harness.html" class="reference internal ">Harness</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../harness/harness_api.html" class="reference internal ">Harness API</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#metrics">metrics</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../metrics/metric_formulation.html" class="reference internal ">Program Metrics</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../metrics/metric_api.html" class="reference internal ">Metric API</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#feedback">feedback</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../feedback/feedback.html" class="reference internal ">Feedback</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../feedback/feedback_api.html" class="reference internal ">Feedback API</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#plugins">plugins</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 "><a href="plugins.html" class="reference internal ">Plugins</a>

            
          </li>

        
          <li class="toctree-l1 current"><a href="#" class="reference internal current">Hydra Plugins</a>

            
              <ul>
                
                  <li class="toctree-l2"><a href="#introduction" class="reference internal">Introduction</a></li>
                
                  <li class="toctree-l2"><a href="#searchpath-plugin" class="reference internal">Searchpath Plugin</a></li>
                
              </ul>
            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../index.html#saving-and-restoring-models">saving and restoring models</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../saving/features.html" class="reference internal ">Saving And Restoring Features for Algorithm</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../saving/checkpoint.html" class="reference internal ">Saving And Restoring Attributes of Algorithm</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../saving/checkpoint_api.html" class="reference internal ">Checkpoint API</a>

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
    <li>Hydra Plugins</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="plugins.html"
       title="previous chapter">← Plugins</a>
  </li>
  <li class="next">
    <a href="../saving/features.html"
       title="next chapter">Saving And Restoring Features for Algorithm →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main">
            
  <section id="hydra-plugins">
<h1>Hydra Plugins<a class="headerlink" href="#hydra-plugins" title="Permalink to this headline">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>By default the cli supports configurations present in 2 search paths</p>
<ol class="arabic simple">
<li><p>Default path <code class="code docutils literal notranslate"><span class="pre">sail_on_client.configs</span></code> present in the sail-on-client package.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">config-dir</span></code> provided to the cli by the user.</p></li>
</ol>
<p>However there might be use-cases where the configuration files might be present
in multiple packages. An example use case would be an agent that is split across
multiple python package. In this case, the user could use <a class="reference external" href="https://hydra.cc/docs/advanced/search_path/#creating-a-searchpathplugin">hydra searchpath plugin</a>
to provide additional directories where the configuration files might be available.</p>
</section>
<section id="searchpath-plugin">
<h2>Searchpath Plugin<a class="headerlink" href="#searchpath-plugin" title="Permalink to this headline">¶</a></h2>
<p>To create add a new search path to cli, use the following steps</p>
<ol class="arabic">
<li><p>Create a <cite>hydra_plugins</cite> folder at the root directory of your package.</p></li>
<li><p>Create a class in it that inherits from <code class="code docutils literal notranslate"><span class="pre">SearchPathPlugin</span></code>. Check the
example plugin for more details</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;Add additional search paths to hydra&#39;s default searchpath.&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">hydra.core.config_search_path</span> <span class="kn">import</span> <span class="n">ConfigSearchPath</span>
<span class="kn">from</span> <span class="nn">hydra.plugins.search_path_plugin</span> <span class="kn">import</span> <span class="n">SearchPathPlugin</span>


<span class="k">class</span> <span class="nc">AdditionalSearchPathPlugin</span><span class="p">(</span><span class="n">SearchPathPlugin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Plugin to add additional search paths to hydra&#39;s default searchpaths.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">manipulate_search_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_path</span><span class="p">:</span> <span class="n">ConfigSearchPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add additional search paths for configurations for hydra.</span>

<span class="sd">        Args:</span>
<span class="sd">            search_path: Search path used by hydra</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">search_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">provider</span><span class="o">=</span><span class="s2">&quot;sail-on-client&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;pkg://hydra_plugins.test&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>The example plugin above registers test directory found under hydra_plugins
directory to the search path used by the cli.</p></li>
<li><p>Add additional configuration files or overrides in the directory that was
registered in the previous step.</p></li>
<li><p>Check if the search path has been registered using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sail</span><span class="o">-</span><span class="n">on</span><span class="o">-</span><span class="n">client</span> <span class="o">--</span><span class="n">info</span> <span class="n">searchpath</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using <code class="code docutils literal notranslate"><span class="pre">pkg://</span></code> syntax requires an <cite>__init__.py</cite> in the directory specified
in the plugin. Please refer to <cite>example plugin</cite> for a concrete example.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Testing plugins locally can sometimes cause errors with default hydra plugins
like colorlor. To resolve the issue use <cite>pip install .</cite></p>
</div>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="plugins.html"
       title="previous chapter">← Plugins</a>
  </li>
  <li class="next">
    <a href="../saving/features.html"
       title="next chapter">Saving And Restoring Features for Algorithm →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2020, Kitware INC..
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.2 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a>.
</div>
            </div>
          </div>
      </page>
    </div>
    
    
  </body>
</html>