<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hydra Plugins &mdash; Sail-On Client 0.31.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/sphinx-toolbox.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Saving And Restoring Features for Algorithm" href="../saving/features.html" />
    <link rel="prev" title="Agents API" href="agents_api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Sail-On Client
          </a>
              <div class="version">
                0.31.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../user/install.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../protocols/ond.html">Open World Novelty Detection (OND)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../protocols/condda.html">Continuous Open-set Novelty Detection, Discovery, Adaptation (CONDDA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../protocols/protocol_api.html">Protocol API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../harness/harness.html">Harness</a></li>
<li class="toctree-l1"><a class="reference internal" href="../harness/harness_api.html">Harness API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../metrics/metric_formulation.html">Program Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/metric_api.html">Metric API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../feedback/feedback.html">Feedback</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feedback/feedback_api.html">Feedback API</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="agents.html">Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="agents_api.html">Agents API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Hydra Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#searchpath-plugin">Searchpath Plugin</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../saving/features.html">Saving And Restoring Features for Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../saving/checkpoint.html">Saving And Restoring Attributes of Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../saving/checkpoint_api.html">Checkpoint API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sail-On Client</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Hydra Plugins</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/plugins/hydra_plugins.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="hydra-plugins">
<h1>Hydra Plugins<a class="headerlink" href="#hydra-plugins" title="Permalink to this headline"></a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline"></a></h2>
<p>By default the cli supports configurations present in 2 search paths</p>
<ol class="arabic simple">
<li><p>Default path <code class="code docutils literal notranslate"><span class="pre">sail_on_client.configs</span></code> present in the sail-on-client package.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">config-dir</span></code> provided to the cli by the user.</p></li>
</ol>
<p>However there might be use-cases where the configuration files might be present
in multiple packages. An example use case would be an agent that is split across
multiple python package. In this case, the user could use <a class="reference external" href="https://hydra.cc/docs/advanced/search_path/#creating-a-searchpathplugin">hydra searchpath plugin</a>
to provide additional directories where the configuration files might be available.</p>
</div>
<div class="section" id="searchpath-plugin">
<h2>Searchpath Plugin<a class="headerlink" href="#searchpath-plugin" title="Permalink to this headline"></a></h2>
<p>To create add a new search path to cli, use the following steps</p>
<ol class="arabic">
<li><p>Create a <cite>hydra_plugins</cite> folder at the root directory of your package.</p></li>
<li><p>Create a class in it that inherits from <code class="code docutils literal notranslate"><span class="pre">SearchPathPlugin</span></code>. Check the
example plugin for more details</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;Add additional search paths to hydra&#39;s default searchpath.&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">hydra.core.config_search_path</span> <span class="kn">import</span> <span class="n">ConfigSearchPath</span>
<span class="kn">from</span> <span class="nn">hydra.plugins.search_path_plugin</span> <span class="kn">import</span> <span class="n">SearchPathPlugin</span>


<span class="k">class</span> <span class="nc">AdditionalSearchPathPlugin</span><span class="p">(</span><span class="n">SearchPathPlugin</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Plugin to add additional search paths to hydra&#39;s default searchpaths.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">manipulate_search_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_path</span><span class="p">:</span> <span class="n">ConfigSearchPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add additional search paths for configurations for hydra.</span>

<span class="sd">        Args:</span>
<span class="sd">            search_path: Search path used by hydra</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">search_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">provider</span><span class="o">=</span><span class="s2">&quot;sail-on-client&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;pkg://hydra_plugins.test&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>The example plugin above registers test directory found under hydra_plugins
directory to the search path used by the cli.</p></li>
<li><p>Add additional configuration files or overrides in the directory that was
registered in the previous step.</p></li>
<li><p>Check if the search path has been registered using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sail</span><span class="o">-</span><span class="n">on</span><span class="o">-</span><span class="n">client</span> <span class="o">--</span><span class="n">info</span> <span class="n">searchpath</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using <code class="code docutils literal notranslate"><span class="pre">pkg://</span></code> syntax requires an <cite>__init__.py</cite> in the directory specified
in the plugin. Please refer to <cite>example plugin</cite> for a concrete example.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Testing plugins locally can sometimes cause errors with default hydra plugins
like colorlor. To resolve the issue use <cite>pip install .</cite></p>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="agents_api.html" class="btn btn-neutral float-left" title="Agents API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../saving/features.html" class="btn btn-neutral float-right" title="Saving And Restoring Features for Algorithm" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Kitware INC..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>