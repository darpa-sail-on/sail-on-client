<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
      <title>Plugins</title>
    
      <link rel="stylesheet" href="_static/pygments.css">
      <link rel="stylesheet" href="_static/theme.css">
      <link rel="stylesheet" href="_static/sphinx_press_theme.css">
      
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>

      <!-- sphinx script_files -->
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>

      
      <script src="_static/theme-vendors.js"></script>
      <script src="_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="Saving And Restoring Attributes of Algorithm" href="saving.html" />
  <link rel="prev" title="Local Interface" href="interfaces/localinterface.html" /> 
  </head>

  <body>
    <div id="app" class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="index.html" class="home-link">
    
      <span class="site-name">Sail-On Client</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="index.html#user-guide"
         class="nav-link ">
         user guide
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#empirical-protocols"
         class="nav-link ">
         empirical protocols
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#interfaces"
         class="nav-link ">
         interfaces
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#plugins"
         class="nav-link  router-link-active">
         plugins
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#saving-and-restoring-models"
         class="nav-link ">
         saving and restoring models
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#api-documentation"
         class="nav-link ">
         api documentation
      </a>
    </div>
  



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="index.html#user-guide"
         class="nav-link ">
         user guide
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#empirical-protocols"
         class="nav-link ">
         empirical protocols
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#interfaces"
         class="nav-link ">
         interfaces
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#plugins"
         class="nav-link  router-link-active">
         plugins
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#saving-and-restoring-models"
         class="nav-link ">
         saving and restoring models
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#api-documentation"
         class="nav-link ">
         api documentation
      </a>
    </div>
  



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#user-guide">user guide</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="user/install.html" class="reference internal ">Installation</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="user/cli.html" class="reference internal ">CLI Interface</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="user/running_algorithms.html" class="reference internal ">Running The Algorithms</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#empirical-protocols">empirical protocols</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="protocols/ond.html" class="reference internal ">Open World Novelty Detection (OND)</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="protocols/condda.html" class="reference internal ">Continuous Open-set Novelty Detection, Discovery, Adaptation (CONDDA)</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#interfaces">interfaces</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="interfaces/parinterface.html" class="reference internal ">PAR Interface</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="interfaces/localinterface.html" class="reference internal ">Local Interface</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#plugins">plugins</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 current"><a href="#" class="reference internal current">Plugins</a>

            
              <ul>
                
                  <li class="toctree-l2"><a href="#introduction" class="reference internal">Introduction</a></li>
                
                  <li class="toctree-l2"><a href="#functions-used-by-the-protocol" class="reference internal">Functions Used By the Protocol</a></li>
                
                  <li class="toctree-l2"><a href="#adapters-and-toolset" class="reference internal">Adapters And Toolset</a></li>
                
                  <li class="toctree-l2"><a href="#sample-detector-and-registration" class="reference internal">Sample Detector and Registration</a></li>
                
              </ul>
            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#saving-and-restoring-models">saving and restoring models</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="saving.html" class="reference internal ">Saving And Restoring Attributes of Algorithm</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#api-documentation">api documentation</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="api.html" class="reference internal ">API Documentation</a>

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
    <li>Plugins</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="interfaces/localinterface.html"
       title="previous chapter">← Local Interface</a>
  </li>
  <li class="next">
    <a href="saving.html"
       title="next chapter">Saving And Restoring Attributes of Algorithm →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main">
            
  <div class="section" id="plugins">
<h1>Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>We rely on <a class="reference external" href="https://packaging.python.org/specifications/entry-points/">Entry Points</a> to register an algorithm . The entrypoint specification
can be used by a python package to register an algorithm by specifying a key value
pair in setup.py for the package where the key would be the name of the algorithm
and the value is the path to the algorithm class relative to the package root. Refer
to <a class="reference internal" href="#sample-detector-and-registration"><span class="std std-ref">the registration section</span></a> for an example.</p>
</div>
<div class="section" id="functions-used-by-the-protocol">
<h2>Functions Used By the Protocol<a class="headerlink" href="#functions-used-by-the-protocol" title="Permalink to this headline">¶</a></h2>
<p>The protocols assumes that the algorithm have the following functions during evaluation</p>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">FeatureExtraction</span></code>: Primarily used for extracting features from the input
modality so that it can be used by other stages of the algorithm.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">WorldDetection</span></code>: Encapsulates the functionality that is used by detecting
change in distribution during an experiment. The logic in this function is used
to determine the introduction of novelty in an experiment.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">NoveltyClassification</span></code>: Used for providing the probability of a sample being
novel or known. The probability of known class is subdivided into a distribution over
all the known classes. This results in a prediction of k+1 values for every sample,
where k is the number of known classes and 1 value is reserved predicting that the sample
is novel.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">NoveltyCharacterization</span></code>: Similar to <code class="code docutils literal notranslate"><span class="pre">NoveltyClassification</span></code> function with
one major difference in the output. The probability of unknown class is subdivided
into a distribution over the unknown classes. This results in a prediction of k+d+1 values
for every sample, where k is the number of known classes, d is the number of discovered
classes and 1 value is reserved for the probability that the sample is novel.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">NoveltyAdaption</span></code>: Used by the algorithm to update its internal state after
it had provided results for <code class="code docutils literal notranslate"><span class="pre">WorldDetection</span></code> and <code class="code docutils literal notranslate"><span class="pre">NoveltyClassification</span></code>/
<code class="code docutils literal notranslate"><span class="pre">NoveltyCharacterization</span></code> depending on the protocol.</p></li>
</ol>
</div>
<div class="section" id="adapters-and-toolset">
<h2>Adapters And Toolset<a class="headerlink" href="#adapters-and-toolset" title="Permalink to this headline">¶</a></h2>
<p>TBD</p>
</div>
<div class="section" id="sample-detector-and-registration">
<h2>Sample Detector and Registration<a class="headerlink" href="#sample-detector-and-registration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sample-detector">
<h3>Sample Detector<a class="headerlink" href="#sample-detector" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;Mocks mainly used for testing protocols.&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">sailon_tinker_launcher.deprecated_tinker.basealgorithm</span> <span class="kn">import</span> <span class="n">BaseAlgorithm</span>
<span class="kn">from</span> <span class="nn">sail_on_client.checkpointer</span> <span class="kn">import</span> <span class="n">Checkpointer</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Callable</span>

<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">torch</span>

<span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">MockDetector</span><span class="p">(</span><span class="n">BaseAlgorithm</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Mock Detector for testing image classification protocols.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Detector constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for the constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">BaseAlgorithm</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;Initialize&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialize</span><span class="p">,</span>
            <span class="s2">&quot;FeatureExtraction&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feature_extraction</span><span class="p">,</span>
            <span class="s2">&quot;WorldDetection&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world_detection</span><span class="p">,</span>
            <span class="s2">&quot;NoveltyClassification&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_novelty_classification</span><span class="p">,</span>
            <span class="s2">&quot;NoveltyAdaption&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_novelty_adaption</span><span class="p">,</span>
            <span class="s2">&quot;NoveltyCharacterization&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_novelty_characterization</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">step_descriptor</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute method used by the protocol to run different steps associated with the algorithm.</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for different steps</span>
<span class="sd">            step_descriptor (str): Name of the step</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Executing </span><span class="si">{</span><span class="n">step_descriptor</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">step_dict</span><span class="p">[</span><span class="n">step_descriptor</span><span class="p">](</span><span class="n">toolset</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Algorithm Initialization.</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for different steps</span>

<span class="sd">        Return:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_feature_extraction</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="n">Dict</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Feature extraction step for the algorithm.</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for different steps</span>

<span class="sd">        Return:</span>
<span class="sd">            Tuple of dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span> <span class="o">=</span> <span class="n">toolset</span><span class="p">[</span><span class="s2">&quot;dataset&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">{},</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">_world_detection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Detect change in world ( Novelty has been introduced ).</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for different steps</span>

<span class="sd">        Return:</span>
<span class="sd">            path to csv file containing the results for change in world</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span>

    <span class="k">def</span> <span class="nf">_novelty_classification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Classify data provided in known classes and unknown class.</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for different steps</span>

<span class="sd">        Return:</span>
<span class="sd">            path to csv file containing the results for novelty classification step</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span>

    <span class="k">def</span> <span class="nf">_novelty_adaption</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update models based on novelty classification and characterization.</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for different steps</span>

<span class="sd">        Return:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">_novelty_characterization</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Characterize novelty by clustering different novel samples.</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for different steps</span>

<span class="sd">        Return:</span>
<span class="sd">            path to csv file containing the results for novelty characterization step</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataset</span>


<span class="k">class</span> <span class="nc">MockDetectorWithAttributes</span><span class="p">(</span><span class="n">MockDetector</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Mock Detector for testing checkpointing.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Detector constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for the constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">MockDetector</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_feature_extraction</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="n">Dict</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Feature extraction step for the algorithm.</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for different steps</span>

<span class="sd">        Return:</span>
<span class="sd">            Tuple of dictionary</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dummy_dict</span> <span class="o">=</span> <span class="n">toolset</span><span class="p">[</span><span class="s2">&quot;dummy_dict&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dummy_list</span> <span class="o">=</span> <span class="n">toolset</span><span class="p">[</span><span class="s2">&quot;dummy_list&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dummy_tuple</span> <span class="o">=</span> <span class="n">toolset</span><span class="p">[</span><span class="s2">&quot;dummy_tuple&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dummy_tensor</span> <span class="o">=</span> <span class="n">toolset</span><span class="p">[</span><span class="s2">&quot;dummy_tensor&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dummy_val</span> <span class="o">=</span> <span class="n">toolset</span><span class="p">[</span><span class="s2">&quot;dummy_val&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">{},</span> <span class="p">{}</span>


<span class="k">class</span> <span class="nc">MockAdapterWithCheckpoint</span><span class="p">(</span><span class="n">BaseAlgorithm</span><span class="p">,</span> <span class="n">Checkpointer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Mock Adapter for testing checkpointing.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Detector constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for the constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">BaseAlgorithm</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">)</span>
        <span class="n">Checkpointer</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">detector</span> <span class="o">=</span> <span class="n">MockDetectorWithAttributes</span><span class="p">(</span><span class="n">toolset</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toolset</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">step_descriptor</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute method used by the protocol to run different steps.</span>

<span class="sd">        Args:</span>
<span class="sd">            toolset (dict): Dictionary containing parameters for different steps</span>
<span class="sd">            step_descriptor (str): Name of the step</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Executing </span><span class="si">{</span><span class="n">step_descriptor</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">detector</span><span class="o">.</span><span class="n">step_dict</span><span class="p">[</span><span class="n">step_descriptor</span><span class="p">](</span><span class="n">toolset</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Overriden method to compare two mock adapters.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (MockAdapterWithCheckpoint): Another instance of mock adapter</span>

<span class="sd">        Return:</span>
<span class="sd">            True if both instances have same attributes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">MockAdapterWithCheckpoint</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">detector</span><span class="o">.</span><span class="n">dummy_dict</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">detector</span><span class="o">.</span><span class="n">dummy_dict</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">detector</span><span class="o">.</span><span class="n">dummy_list</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">detector</span><span class="o">.</span><span class="n">dummy_list</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">detector</span><span class="o">.</span><span class="n">dummy_tuple</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">detector</span><span class="o">.</span><span class="n">dummy_tuple</span>
            <span class="ow">and</span> <span class="nb">bool</span><span class="p">(</span>
                <span class="n">torch</span><span class="o">.</span><span class="n">all</span><span class="p">(</span>
                    <span class="n">torch</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">detector</span><span class="o">.</span><span class="n">dummy_tensor</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">detector</span><span class="o">.</span><span class="n">dummy_tensor</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">detector</span><span class="o">.</span><span class="n">dummy_val</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">detector</span><span class="o">.</span><span class="n">dummy_val</span>
        <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="registering-the-detector">
<h3>Registering the Detector<a class="headerlink" href="#registering-the-detector" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="n">setup</span><span class="p">(</span>
    <span class="n">author</span><span class="o">=</span><span class="s2">&quot;Kitware, Inc.&quot;</span><span class="p">,</span>
    <span class="n">author_email</span><span class="o">=</span><span class="s2">&quot;kitware@kitware.com&quot;</span><span class="p">,</span>
    <span class="n">python_requires</span><span class="o">=</span><span class="s2">&quot;&gt;=3.6&quot;</span><span class="p">,</span>
    <span class="n">classifiers</span><span class="o">=</span><span class="p">[</span>
        <span class="s2">&quot;Development Status :: 2 - Pre-Alpha&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Intended Audience :: Developers&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Natural Language :: English&quot;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Protocols and client for sail on&quot;&quot;&quot;</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;sail_on_client&quot;</span><span class="p">,</span>
    <span class="n">setup_requires</span><span class="o">=</span><span class="n">setup_requirements</span><span class="p">,</span>
    <span class="n">packages</span><span class="o">=</span><span class="n">find_packages</span><span class="p">(),</span>
    <span class="n">package_data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;sail_on_client&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;py.typed&quot;</span><span class="p">]},</span>
    <span class="n">test_suite</span><span class="o">=</span><span class="s2">&quot;tests&quot;</span><span class="p">,</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://gitlab.kitware.com/darpa-sail-on/merge_framework&quot;</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="s2">&quot;0.0.1&quot;</span><span class="p">,</span>
    <span class="n">zip_safe</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="hll">    <span class="n">entry_points</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;framework&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;MockDetector = sail_on_client.mock:MockDetector&quot;</span><span class="p">]},</span>
</span></pre></div>
</div>
</div>
</div>
</div>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="interfaces/localinterface.html"
       title="previous chapter">← Local Interface</a>
  </li>
  <li class="next">
    <a href="saving.html"
       title="next chapter">Saving And Restoring Attributes of Algorithm →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2020, Kitware INC..
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.1 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a>.
</div>
            </div>
          </div>
      </page>
    </div>
    
    
  </body>
</html>