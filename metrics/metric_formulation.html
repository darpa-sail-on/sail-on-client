<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Program Metrics &mdash; Sail-On Client 0.31.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/sphinx-toolbox.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Metric API" href="metric_api.html" />
    <link rel="prev" title="Harness API" href="../harness/harness_api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Sail-On Client
          </a>
              <div class="version">
                0.31.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../user/install.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../protocols/ond.html">Open World Novelty Detection (OND)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../protocols/condda.html">Continuous Open-set Novelty Detection, Discovery, Adaptation (CONDDA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../protocols/protocol_api.html">Protocol API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../harness/harness.html">Harness</a></li>
<li class="toctree-l1"><a class="reference internal" href="../harness/harness_api.html">Harness API</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Program Metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#symbols-and-terms">Symbols and Terms</a></li>
<li class="toctree-l2"><a class="reference internal" href="#m1-average-number-of-fns-among-correctly-detected-trials-is-better">M1: Average Number of FNs among Correctly Detected Trials (⬇ is better)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#formal-definition">Formal Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pictorial-representation">Pictorial Representation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#m2-percentage-of-correctly-detected-trials-is-better">M2: Percentage of Correctly Detected Trials (⬆ is better)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Formal Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Pictorial Representation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#m2-1-percentage-of-false-positive-trials-is-better">M2.1: Percentage of False Positive Trials (⬇ is better)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Formal Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Pictorial Representation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#m3-and-m4-novelty-reaction-performance-is-better">M3 and M4: Novelty Reaction Performance (⬆ is better)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Formal Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Pictorial Representation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#m5-overall-performance-task-improvement-is-better">M5: Overall Performance Task Improvement (⬆ is better)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">Formal Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Pictorial Representation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#m6-asymptotic-performance-task-improvement-is-better">M6: Asymptotic Performance Task Improvement (⬆ is better)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">Formal Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">Pictorial Representation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="metric_api.html">Metric API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../feedback/feedback.html">Feedback</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feedback/feedback_api.html">Feedback API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../plugins/agents.html">Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/agents_api.html">Agents API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/hydra_plugins.html">Hydra Plugins</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../saving/features.html">Saving And Restoring Features for Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../saving/checkpoint.html">Saving And Restoring Attributes of Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../saving/checkpoint_api.html">Checkpoint API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sail-On Client</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Program Metrics</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/metrics/metric_formulation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="program-metrics">
<h1>Program Metrics<a class="headerlink" href="#program-metrics" title="Permalink to this headline"></a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline"></a></h2>
<p>The sail on metrics evaluates the agents using two criteria</p>
<ol class="arabic simple">
<li><p>Detecting the instance when novelty was introduced.</p></li>
<li><p>Reacting and recovering from novelty.</p></li>
</ol>
<p>The figure below shows the different points where the metrics
are calculated.</p>
<div class="align-center figure">
<img alt="Metric In and Across Trials" src="../_images/Metric-Overview.png" />
</div>
</div>
<div class="section" id="symbols-and-terms">
<h2>Symbols and Terms<a class="headerlink" href="#symbols-and-terms" title="Permalink to this headline"></a></h2>
<ol class="arabic simple">
<li><p>L: Novelty Level (L <span class="math notranslate nohighlight">\(\in\)</span> [1,3])</p></li>
<li><p>C: Condition (C <span class="math notranslate nohighlight">\(\in\)</span> [System Detection, Given Detection])</p></li>
<li><p>D: Domain (D} <span class="math notranslate nohighlight">\(\in\)</span> [Visual Classification, Document Transcription, Activity Recognition])</p></li>
<li><p><span class="math notranslate nohighlight">\(\delta_{pre}\)</span>: A distribution of (pre novelty) instances from D at L = 0</p></li>
<li><p><span class="math notranslate nohighlight">\(\delta_{post}\)</span>: A distribution of (post novelty) instances from D at L <span class="math notranslate nohighlight">\(\geq\)</span> 0</p></li>
<li><p><span class="math notranslate nohighlight">\(T_{pre}\)</span>: A sequence of instances drawn from <span class="math notranslate nohighlight">\(\delta_{pre}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(T_{post}\)</span>: A sequence of instances drawn from <span class="math notranslate nohighlight">\(\delta_{post}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(T\)</span>: A sequence of instances with <span class="math notranslate nohighlight">\(T_{pre}\)</span> and <span class="math notranslate nohighlight">\(T_{post}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\alpha\)</span>: A TA2 agent</p></li>
<li><p><span class="math notranslate nohighlight">\(\beta\)</span>: A Baseline agent</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathcal{E}_{L,C,D,\alpha,\beta}\)</span>: A set of <span class="math notranslate nohighlight">\(\langle\)</span> L,C, D <span class="math notranslate nohighlight">\(\rangle\)</span> on <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(\beta\)</span></p></li>
</ol>
</div>
<div class="section" id="m1-average-number-of-fns-among-correctly-detected-trials-is-better">
<h2>M1: Average Number of FNs among Correctly Detected Trials (⬇ is better)<a class="headerlink" href="#m1-average-number-of-fns-among-correctly-detected-trials-is-better" title="Permalink to this headline"></a></h2>
<p>The goal of the metric is to measure the distance between when novelty was
introduced and when the agent declared that the world changed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>M1 is only computed across correctly detected tests.</p>
</div>
<div class="section" id="formal-definition">
<h3>Formal Definition<a class="headerlink" href="#formal-definition" title="Permalink to this headline"></a></h3>
<p>Let <span class="math notranslate nohighlight">\(\delta(\alpha, x)\)</span> be the agent’s distribution on instance x</p>
<div class="math notranslate nohighlight">
\[\begin{split}CDT(\alpha, T) =  \begin{cases}
                    True &amp; \delta_{post}(\alpha, x) \in T_{post} \\
                    False &amp; \text{otherwise}
                  \end{cases}\end{split}\]</div>
<div class="math notranslate nohighlight">
\[\#CDT(\alpha, \mathcal{E}_\alpha) = \sum\limits_{T \in \mathcal{E}_\alpha} CDT(\alpha, T) = \text{True}\]</div>
<div class="math notranslate nohighlight">
\[FN(\alpha, T) = \sum\limits_{x \in T_{post}} \delta (\alpha, x) = \delta_{pre}\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}\widetilde{FN}_{CDT}(\mathcal{E}_\alpha) =
\begin{cases}
\frac{1}{\#CDT(\alpha, \mathcal{E}_\alpha)} * \sum\limits_{T \in \mathcal{E}_\alpha \land CDT(\alpha, T)} FN(\alpha, T) &amp; \#CDT(\alpha, \mathcal{E}_\alpha)  &gt; 0 \\
\text{N/A} &amp; \text{Otherwise}
\end{cases}\end{split}\]</div>
</div>
<div class="section" id="pictorial-representation">
<h3>Pictorial Representation<a class="headerlink" href="#pictorial-representation" title="Permalink to this headline"></a></h3>
<div class="align-center figure">
<img alt="M1 metric" src="../_images/M1.png" />
</div>
</div>
</div>
<div class="section" id="m2-percentage-of-correctly-detected-trials-is-better">
<h2>M2: Percentage of Correctly Detected Trials (⬆ is better)<a class="headerlink" href="#m2-percentage-of-correctly-detected-trials-is-better" title="Permalink to this headline"></a></h2>
<p>The goal of the metric is to measure the number of tests when agent declares
that the world has changed after the novelty is introduced in a test.</p>
<div class="section" id="id1">
<h3>Formal Definition<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<div class="math notranslate nohighlight">
\[CDT_{\%}(\mathcal{E}_\alpha) = \frac{1}{|\mathcal{E}_\alpha|}  \sum\limits_{T\in\mathcal{E}_\alpha}(CDT(\alpha, T) = \text{True})\]</div>
</div>
<div class="section" id="id2">
<h3>Pictorial Representation<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<div class="align-center figure">
<img alt="M2 metric" src="../_images/M2.png" />
</div>
</div>
</div>
<div class="section" id="m2-1-percentage-of-false-positive-trials-is-better">
<h2>M2.1: Percentage of False Positive Trials (⬇ is better)<a class="headerlink" href="#m2-1-percentage-of-false-positive-trials-is-better" title="Permalink to this headline"></a></h2>
<p>The goal of the metric is to measure the number of tests when agent declares
that the world has changed before the novelty is introduced in a test.</p>
<div class="section" id="id3">
<h3>Formal Definition<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h3>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}FP(\alpha, T) = \sum\limits_{x \in T_{pre}}(\delta(\alpha, x) = \delta_{post})\\FP_{\%}(\mathcal{E}_\alpha) = \frac{1}{|\mathcal{E}_\alpha|}\sum\limits_{T\in\mathcal{E}_\alpha}(FP(\alpha, T)&gt;0)\end{aligned}\end{align} \]</div>
</div>
<div class="section" id="id4">
<h3>Pictorial Representation<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<div class="align-center figure">
<img alt="M2.1 metric" src="../_images/M2.1.png" />
</div>
</div>
</div>
<div class="section" id="m3-and-m4-novelty-reaction-performance-is-better">
<h2>M3 and M4: Novelty Reaction Performance (⬆ is better)<a class="headerlink" href="#m3-and-m4-novelty-reaction-performance-is-better" title="Permalink to this headline"></a></h2>
<p>The goal of the metric is to measure the performance of the agent post novelty
when compared to a baseline before novelty was introduced. The performance of
the agent is measure over asymptotic samples.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The asymptotic samples for a test is the last 100 samples in the test.</p>
</div>
<div class="section" id="id5">
<h3>Formal Definition<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h3>
<p>Let <span class="math notranslate nohighlight">\(P_{pre, \beta}\)</span> be baselines average task performance on <span class="math notranslate nohighlight">\(T_{pre}\)</span>
and <span class="math notranslate nohighlight">\(P_{post,\alpha}\)</span> be the agents asymptotic task performance on <span class="math notranslate nohighlight">\(T_{post}\)</span></p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}NRP(T) = \frac{P_{post, \alpha}}{P_{pre, \beta}}\\NRP(\mathcal{E}) = \frac{1}{N_\mathcal{E}} \sum\limits_{i=1}^{N_\mathcal{E}} NRP(T_i)\end{aligned}\end{align} \]</div>
</div>
<div class="section" id="id6">
<h3>Pictorial Representation<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<div class="align-center figure">
<img alt="M3 and M4 metric" src="../_images/M3.png" />
</div>
</div>
</div>
<div class="section" id="m5-overall-performance-task-improvement-is-better">
<h2>M5: Overall Performance Task Improvement (⬆ is better)<a class="headerlink" href="#m5-overall-performance-task-improvement-is-better" title="Permalink to this headline"></a></h2>
<p>The goal of the metric is to measure the performance of the agent post novelty
when compared to the performance of the baseline and the agent post novelty.</p>
<div class="section" id="id7">
<h3>Formal Definition<a class="headerlink" href="#id7" title="Permalink to this headline"></a></h3>
<p>Let <span class="math notranslate nohighlight">\(P_{post, \beta}\)</span> be baselines average task performance on <span class="math notranslate nohighlight">\(T_{post}\)</span>
and <span class="math notranslate nohighlight">\(P_{post,\alpha}\)</span> be the agents task performance on <span class="math notranslate nohighlight">\(T_{post}\)</span></p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}OPTI(T) = \frac{P_{post,\alpha}}{P_{post,\alpha} + P_{post, \beta}}\\OPTI = \frac{1}{N_{\mathcal{E}}}\sum\limits_{i=1}^{N_\mathcal{E}}OTPI(T_i)\end{aligned}\end{align} \]</div>
</div>
<div class="section" id="id8">
<h3>Pictorial Representation<a class="headerlink" href="#id8" title="Permalink to this headline"></a></h3>
<div class="align-center figure">
<img alt="M5 metric" src="../_images/M5.png" />
</div>
</div>
</div>
<div class="section" id="m6-asymptotic-performance-task-improvement-is-better">
<h2>M6: Asymptotic Performance Task Improvement (⬆ is better)<a class="headerlink" href="#m6-asymptotic-performance-task-improvement-is-better" title="Permalink to this headline"></a></h2>
<p>The goal of the metric is to measure the performance of the agent post novelty
when compared to the performance of the baseline and the agent post novelty for
asymptotic samples.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The asymptotic samples for a test is the last 100 samples in the test.</p>
</div>
<div class="section" id="id9">
<h3>Formal Definition<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}APTI(T) = \frac{\sum_{i=N_T-m}^{N_T}P_{post,\alpha}}{\sum_{i=N_T-m}^{N_T}P_{post,\beta}}\\APTI = \frac{1}{N_{\mathcal{E}}}\sum\limits_{i=1}^{N_\mathcal{E}}APTI(T_i)\end{aligned}\end{align} \]</div>
<p>where <span class="math notranslate nohighlight">\(m\)</span> is asymptotic width that is domain dependent</p>
</div>
<div class="section" id="id10">
<h3>Pictorial Representation<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<div class="align-center figure">
<img alt="M6 metric" src="../_images/M6.png" />
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../harness/harness_api.html" class="btn btn-neutral float-left" title="Harness API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="metric_api.html" class="btn btn-neutral float-right" title="Metric API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Kitware INC..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>